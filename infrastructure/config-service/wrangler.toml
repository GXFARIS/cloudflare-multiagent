name = "config-service"
main = "index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Worker configuration
workers_dev = true

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "multiagent_system"
database_id = "7cff30a0-c974-4ede-b96a-c91dd2f0c870"

# KV namespace for encrypted provider API keys
[[kv_namespaces]]
binding = "PROVIDER_KEYS"
id = "60eab140779649c09cb9aea7b3c8f533"

# Environment variables
[env.production]
name = "config-service-production"

[env.production.d1_databases]
binding = "DB"
database_name = "multi_tenant_db_production"
database_id = ""  # Production database ID

[env.staging]
name = "config-service-staging"

[env.staging.d1_databases]
binding = "DB"
database_name = "multi_tenant_db_staging"
database_id = ""  # Staging database ID

[env.development]
name = "config-service-dev"

[env.development.d1_databases]
binding = "DB"
database_name = "multi_tenant_db_dev"
database_id = ""  # Development database ID

# Build configuration - Wrangler handles TypeScript compilation automatically
# [build]
# command = "npm run build"

# Routes configuration
routes = [
  { pattern = "api.your-domain.com/*", zone_name = "your-domain.com" }
]
